<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset='UTF-8'>
  <title>Palette</title>
  <link href='//fonts.googleapis.com/css?family=Lato:100,300,400,900' rel='stylesheet'>
  <style>
  *{box-sizing:border-box;padding:0;margin:0;text-decoration:none;list-style:none;outline:0}body{font-family:Lato,sans-serif;font-weight:400;color:#4e5067}a{-webkit-transition:all .3s ease-out;transition:all .3s ease-out;-webkit-backface-visibility:hidden}input,select,textarea{position:relative;width:100%;margin:0;box-shadow:none;border-radius:0;font-size:16px;color:#4e5067;font-weight:300;line-height:normal;text-align:left;text-transform:none;outline:none;background:none;border:none;-webkit-appearance:none}.header{position:fixed;top:0;left:0;right:0;width:100%;height:80px;padding:0 5%;border-bottom:1px solid transparent;z-index:1}.header .header-logo{float:left;height:80px;line-height:80px;font-size:16px;letter-spacing:.075em}.header .header-logo a{color:#4e5067}.header .header-nav{float:right}.header .header-nav li{height:80px;line-height:80px}.header .header-nav .header-signin{display:inline-block;width:100%;height:34px;line-height:34px;padding:0 35px;text-align:center;font-size:12px;font-weight:400;border-radius:18px;color:#fff;background-color:#0db5ff}.header .header-nav .header-signin:hover{background-color:#2a85d7}.main{margin-top:100px;padding:0 5%}.c-btn{font-size:14px;height:45px;line-height:45px;padding:0 35px;border:0;overflow:hidden;background-color:#0db5ff;-webkit-transition:all .3s ease-out;transition:all .3s ease-out;-webkit-backface-visibility:hidden;cursor:pointer}.c-btn:hover{background-color:#2a85d7}.c-btn--prime{font-family:Raleway,sans-serif;font-weight:400;text-transform:uppercase;letter-spacing:1.2px;color:#fff;border-radius:24px}.c-form{width:60%;margin:0 auto}.c-form .c-form__row{margin-bottom:30px;position:relative;clear:both}.c-form .c-form__row label{position:absolute;left:6px;top:16px;color:#666}.c-form .c-form__row input{height:54px;padding:0 60px 0 100px;border-bottom:1px solid #ddd};
  </style>
</head>
<body>
<header class='header'>
  <h1 class='header-logo'><a href='/'>Palette</a></h1>
  <nav class='header-nav'>
    <ul>
      <li><a class='header-signin' href='/signin'>SIGN IN</a></li>
    </ul>
  </nav>
</header>
<main class='main'>
  <div id='content'></div>
  <div class='c-form'>
    <p class='c-form__row'>
      <label for='js-store-mail' class=''>E-Mail</label>
      <input type='email' id='js-store-mail' required='true' accesskey='n' aria-required='true'>
    </p>
    <p class='c-form__row'>
      <label for='js-store-password' class=''>Password</label>
      <input type='password' id='js-store-password' required='true' accesskey='n' aria-required='true'>
    </p>
    <button class='c-btn c-btn--prime' id='js-signin'>sign in</button>
  </div>
</main>
<script>
  const signin = document.getElementById('js-signin');
  signin.addEventListener('click', () => {
    const mail = document.getElementById('js-store-mail').value;
    const password = document.getElementById('js-store-password').value;
    fetch(`/signin`, {
      method: 'POST',
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        mail: mail,
        password: password
      })
    }).then((response) => {
      return response.json();
    }).then((data) => {
      console.log(data);
      const content = document.getElementById('content');
      if (!data.Error) {
        content.innerHTML = `
        ID：${data.Value.ID}<br>
        name：${data.Value.name}<br>
        Mail：${data.Value.mail}<br>
        PASSWORD：${data.Value.password}<br>
        作成日：${data.Value.CreatedAt}<br>
        更新日：${data.Value.UpdatedAt}<br>`;
      } else {
        content.innerHTML = 'メールアドレスまたはパスワードが正しくありません。';
      }
    });
  });
</script>
</body>
</html>
